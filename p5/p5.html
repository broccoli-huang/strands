<!DOCTYPE html>
<html lang="zh-Hant">

<head>
	<title></title>
	<link rel="stylesheet" href="styles.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
</head>

<body>
	<section>
        <div style="height:40px;"></div>
        <div id="showbar" style="height:80px;font-size:200%;"></div>
        <div style="height:60px;">
            <button class="button0" onclick="Hint()"> HINT </button>
            <button class="button0" onclick="Submit()"> SUBMIT </button>
        </div>
        <div>
            <button id="00" class="button1" onclick="Click(0,0)"> </button>
            <button id="01" class="button1" onclick="Click(0,1)"> </button>
            <button id="02" class="button1" onclick="Click(0,2)"> </button>
            <button id="03" class="button1" onclick="Click(0,3)"> </button>
            <button id="04" class="button1" onclick="Click(0,4)"> </button>
            <button id="05" class="button1" onclick="Click(0,5)"> </button>
            <button id="06" class="button1" onclick="Click(0,6)"> </button>
        </div>
        <div>
            <button id="10" class="button1" onclick="Click(1,0)"> </button>
            <button id="11" class="button1" onclick="Click(1,1)"> </button>
            <button id="12" class="button1" onclick="Click(1,2)"> </button>
            <button id="13" class="button1" onclick="Click(1,3)"> </button>
            <button id="14" class="button1" onclick="Click(1,4)"> </button>
            <button id="15" class="button1" onclick="Click(1,5)"> </button>
            <button id="16" class="button1" onclick="Click(1,6)"> </button>
        </div>
        <div>
            <button id="20" class="button1" onclick="Click(2,0)"> </button>
            <button id="21" class="button1" onclick="Click(2,1)"> </button>
            <button id="22" class="button1" onclick="Click(2,2)"> </button>
            <button id="23" class="button1" onclick="Click(2,3)"> </button>
            <button id="24" class="button1" onclick="Click(2,4)"> </button>
            <button id="25" class="button1" onclick="Click(2,5)"> </button>
            <button id="26" class="button1" onclick="Click(2,6)"> </button>
        </div>
        <div>
            <button id="30" class="button1" onclick="Click(3,0)"> </button>
            <button id="31" class="button1" onclick="Click(3,1)"> </button>
            <button id="32" class="button1" onclick="Click(3,2)"> </button>
            <button id="33" class="button1" onclick="Click(3,3)"> </button>
            <button id="34" class="button1" onclick="Click(3,4)"> </button>
            <button id="35" class="button1" onclick="Click(3,5)"> </button>
            <button id="36" class="button1" onclick="Click(3,6)"> </button>
        </div>
        <div>
            <button id="40" class="button1" onclick="Click(4,0)"> </button>
            <button id="41" class="button1" onclick="Click(4,1)"> </button>
            <button id="42" class="button1" onclick="Click(4,2)"> </button>
            <button id="43" class="button1" onclick="Click(4,3)"> </button>
            <button id="44" class="button1" onclick="Click(4,4)"> </button>
            <button id="45" class="button1" onclick="Click(4,5)"> </button>
            <button id="46" class="button1" onclick="Click(4,6)"> </button>
        </div>
        <div>
            <button id="50" class="button1" onclick="Click(5,0)"> </button>
            <button id="51" class="button1" onclick="Click(5,1)"> </button>
            <button id="52" class="button1" onclick="Click(5,2)"> </button>
            <button id="53" class="button1" onclick="Click(5,3)"> </button>
            <button id="54" class="button1" onclick="Click(5,4)"> </button>
            <button id="55" class="button1" onclick="Click(5,5)"> </button>
            <button id="56" class="button1" onclick="Click(5,6)"> </button>
        </div>
        <div>
            <button id="60" class="button1" onclick="Click(6,0)"> </button>
            <button id="61" class="button1" onclick="Click(6,1)"> </button>
            <button id="62" class="button1" onclick="Click(6,2)"> </button>
            <button id="63" class="button1" onclick="Click(6,3)"> </button>
            <button id="64" class="button1" onclick="Click(6,4)"> </button>
            <button id="65" class="button1" onclick="Click(6,5)"> </button>
            <button id="66" class="button1" onclick="Click(6,6)"> </button>
        </div>
        <div>
            <button id="70" class="button1" onclick="Click(7,0)"> </button>
            <button id="71" class="button1" onclick="Click(7,1)"> </button>
            <button id="72" class="button1" onclick="Click(7,2)"> </button>
            <button id="73" class="button1" onclick="Click(7,3)"> </button>
            <button id="74" class="button1" onclick="Click(7,4)"> </button>
            <button id="75" class="button1" onclick="Click(7,5)"> </button>
            <button id="76" class="button1" onclick="Click(7,6)"> </button>
        </div>
	</section>

    
    <script>
        // settings
        var num_of_row = 8;
        var num_of_col = 7;
        var title = "Tongues";
        var strands_no = 5;
        var table = ['&#x1F7E8','&#x1F300','&#x2B06','&#x1F34D','&#x1F7E8','&#x1F991','&#x1F4B5','&#x1F34D','&#x270C','&#x1F4E6','&#x1F195','&#x1F236','&#x1FAA1','&#x1F6BD','&#x1F947','&#x1F351','&#x2764','&#x1F536','&#x2795','&#x2B06','&#x1F4E6','&#x1F347','&#x1F4B5','&#x1F590','&#x1F98F','&#x1FAA2','&#x1FAA1','&#x1F21A','&#x1F37A','&#x264D','&#x1F947','&#x23FA','&#x1F988','&#x1F41A','&#x1F595','&#x1F343','&#x1F46C','&#x1FAA0','&#x1F409','&#x1F914','&#x1F46B','&#x270F','&#x1F526','&#x1F964','&#x1F319','&#x1F48D','&#x1F469;&#x200D;&#x2764;&#xFE0F;&#x200D;&#x1F48B;&#x200D;&#x1F468;','&#x1F381','&#x1F9DF;&#x200D;&#x2642;&#xFE0F;','&#x1F6AC','&#x1F3EE','&#x1F468;&#x200D;&#x1F9B2;','&#x1F4A7','&#x2600','&#x1F947','&#x1F536'];
        var ans = [
            ['06','15','24','34','45','54','64'],
            ['30','21','31','40','50','60','61'],
            ['16','25','26','35','36','46','56'],
            ['55','65','66','76','75','74','63'],
            ['70','71','72','73','62','53','44'],
            ['20','11','12','22','32','41','51'],
            ['10','00','01','02','03','04','05'],
            ['13','14','23','33','42','43','52']
        ]  
        // var correct_color = ['#EC5E42','#FBC2E2', '#FBE8C2','#F6F29C','#C9F69C','#76BBF4','#76F2F4','#E8BDFE','#A57675'];
        // var result_balls = ['ðŸ’¥','ðŸ©·','ðŸ§¡','ðŸ’›','ðŸ’š','ðŸ’™','ðŸ©µ','ðŸ’œ','ðŸ¤Ž'];
        var correct_color = ['#FBC2E2', '#FBE8C2','#F6F29C','#C9F69C','#76BBF4','#76F2F4','#E8BDFE','#A57675'];
        var result_balls = ['ðŸ©·','ðŸ§¡','ðŸ’›','ðŸ’š','ðŸ’™','ðŸ©µ','ðŸ’œ','ðŸ¤Ž'];
    </script>

    <script>
        for (var row=0;row<num_of_row;row++) {
            for (var col=0;col<num_of_col;col++) {
                document.getElementById(row.toString()+col.toString()).innerHTML = table[num_of_col*row+col];	
            }
        }
        var start_time = Date.now();
    </script>

	<script>
		var str_reg = '';
        var id_reg = [];
        var row_prev = 0;
        var col_prev = 0;
        var used_reg = [];
        var correct_arr = [];
        var result = "PPM's Strands #" + strands_no.toString() + '\n\"' + title + '\"\n';
		function Click(row, col) { 
            if (!used_reg.includes(row.toString()+col.toString())) {
                if (str_reg == '' || ((Math.abs(row-row_prev)<=1) && (Math.abs(col-col_prev)<=1) && !(id_reg.includes(row.toString()+col.toString())))) {
                    str_reg += table[num_of_col*row+col];
                    document.getElementById("showbar").innerHTML = str_reg;	
                    id_reg.push(row.toString()+col.toString());
                    row_prev = row;
                    col_prev = col;
                    document.getElementById(row.toString()+col.toString()).style.backgroundColor = '#e7e7e7';
                }
            }
		}
        function Submit() { 
            // correct
            for (var i=0;i<ans.length;i++) {
                if (ans[i].toString() == id_reg.toString()) {
                    for (var j=0;j<id_reg.length;j++) {
                        document.getElementById(id_reg[j]).style.backgroundColor = correct_color[i];
                        document.getElementById(id_reg[j]).style.borderColor = correct_color[i];
                        used_reg.push(id_reg[j]);
                    }
                    correct_arr.push(i);
                    result += result_balls[i];
                    str_reg = '';
                    id_reg = [];
                    document.getElementById("showbar").innerHTML = '';	
                    if (correct_arr.length == ans.length) {
                        document.getElementById("showbar").innerHTML = "Well done! Results copied to clipboard. ";
                        var end_time = Date.now();
                        var spend_time = Math.floor((end_time - start_time)/1000);
                        result += '\nSolved in ' + Math.floor(spend_time/3600).toString().padStart(2, '0') + ':' + Math.floor((spend_time%3600)/60).toString().padStart(2, '0') + ':' + (spend_time%60).toString().padStart(2, '0');
                        navigator.clipboard.writeText(result);
                    }
                    return ;
                }
            }
            // wrong
            for (var j=0;j<id_reg.length;j++) {
                document.getElementById(id_reg[j]).style.backgroundColor = 'white';
            }
            str_reg = '';
            id_reg = [];
            document.getElementById("showbar").innerHTML = '';	
            return ;
		}
        function Hint() {
            // for (var i=1;i<ans.length;i++) {
            for (var i=0;i<ans.length;i++) {
                if (!correct_arr.includes(i)) {
                    for (var j=0;j<ans[i].length;j++) {
                        document.getElementById(ans[i][j]).style.borderColor = 'black';
                    }
                    result += 'ðŸ’¡';
                    return ;
                }
            }
        }
	</script>

</body>

</html>