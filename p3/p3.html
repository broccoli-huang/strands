<!DOCTYPE html>
<html lang="zh-Hant">

<head>
	<title></title>
	<link rel="stylesheet" href="styles.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
</head>

<body>
	<section>
        <div style="height:40px;"></div>
        <div id="showbar" style="height:70px;font-size:180%;"></div>
        <div style="height:60px;">
            <button class="button0" onclick="Hint()"> HINT </button>
            <button class="button0" onclick="Submit()"> SUBMIT </button>
        </div>
        <div>
            <button id="00" class="button1" onclick="Click(0,0)"> </button>
            <button id="01" class="button1" onclick="Click(0,1)"> </button>
            <button id="02" class="button1" onclick="Click(0,2)"> </button>
            <button id="03" class="button1" onclick="Click(0,3)"> </button>
            <button id="04" class="button1" onclick="Click(0,4)"> </button>
            <button id="05" class="button1" onclick="Click(0,5)"> </button>
            <button id="06" class="button1" onclick="Click(0,6)"> </button>
            <button id="07" class="button1" onclick="Click(0,7)"> </button>
        </div>
        <div>
            <button id="10" class="button1" onclick="Click(1,0)"> </button>
            <button id="11" class="button1" onclick="Click(1,1)"> </button>
            <button id="12" class="button1" onclick="Click(1,2)"> </button>
            <button id="13" class="button1" onclick="Click(1,3)"> </button>
            <button id="14" class="button1" onclick="Click(1,4)"> </button>
            <button id="15" class="button1" onclick="Click(1,5)"> </button>
            <button id="16" class="button1" onclick="Click(1,6)"> </button>
            <button id="17" class="button1" onclick="Click(1,7)"> </button>
        </div>
        <div>
            <button id="20" class="button1" onclick="Click(2,0)"> </button>
            <button id="21" class="button1" onclick="Click(2,1)"> </button>
            <button id="22" class="button1" onclick="Click(2,2)"> </button>
            <button id="23" class="button1" onclick="Click(2,3)"> </button>
            <button id="24" class="button1" onclick="Click(2,4)"> </button>
            <button id="25" class="button1" onclick="Click(2,5)"> </button>
            <button id="26" class="button1" onclick="Click(2,6)"> </button>
            <button id="27" class="button1" onclick="Click(2,7)"> </button>
        </div>
        <div>
            <button id="30" class="button1" onclick="Click(3,0)"> </button>
            <button id="31" class="button1" onclick="Click(3,1)"> </button>
            <button id="32" class="button1" onclick="Click(3,2)"> </button>
            <button id="33" class="button1" onclick="Click(3,3)"> </button>
            <button id="34" class="button1" onclick="Click(3,4)"> </button>
            <button id="35" class="button1" onclick="Click(3,5)"> </button>
            <button id="36" class="button1" onclick="Click(3,6)"> </button>
            <button id="37" class="button1" onclick="Click(3,7)"> </button>
        </div>
        <div>
            <button id="40" class="button1" onclick="Click(4,0)"> </button>
            <button id="41" class="button1" onclick="Click(4,1)"> </button>
            <button id="42" class="button1" onclick="Click(4,2)"> </button>
            <button id="43" class="button1" onclick="Click(4,3)"> </button>
            <button id="44" class="button1" onclick="Click(4,4)"> </button>
            <button id="45" class="button1" onclick="Click(4,5)"> </button>
            <button id="46" class="button1" onclick="Click(4,6)"> </button>
            <button id="47" class="button1" onclick="Click(4,7)"> </button>
        </div>
        <div>
            <button id="50" class="button1" onclick="Click(5,0)"> </button>
            <button id="51" class="button1" onclick="Click(5,1)"> </button>
            <button id="52" class="button1" onclick="Click(5,2)"> </button>
            <button id="53" class="button1" onclick="Click(5,3)"> </button>
            <button id="54" class="button1" onclick="Click(5,4)"> </button>
            <button id="55" class="button1" onclick="Click(5,5)"> </button>
            <button id="56" class="button1" onclick="Click(5,6)"> </button>
            <button id="57" class="button1" onclick="Click(5,7)"> </button>
        </div>
        <div>
            <button id="60" class="button1" onclick="Click(6,0)"> </button>
            <button id="61" class="button1" onclick="Click(6,1)"> </button>
            <button id="62" class="button1" onclick="Click(6,2)"> </button>
            <button id="63" class="button1" onclick="Click(6,3)"> </button>
            <button id="64" class="button1" onclick="Click(6,4)"> </button>
            <button id="65" class="button1" onclick="Click(6,5)"> </button>
            <button id="66" class="button1" onclick="Click(6,6)"> </button>
            <button id="67" class="button1" onclick="Click(6,7)"> </button>
        </div>
        <div>
            <button id="70" class="button1" onclick="Click(7,0)"> </button>
            <button id="71" class="button1" onclick="Click(7,1)"> </button>
            <button id="72" class="button1" onclick="Click(7,2)"> </button>
            <button id="73" class="button1" onclick="Click(7,3)"> </button>
            <button id="74" class="button1" onclick="Click(7,4)"> </button>
            <button id="75" class="button1" onclick="Click(7,5)"> </button>
            <button id="76" class="button1" onclick="Click(7,6)"> </button>
            <button id="77" class="button1" onclick="Click(7,7)"> </button>
        </div>
	</section>

    
    <script>
        // settings
        var num_of_row = 8;
        var num_of_col = 8;
        var title = "GO GO GO!";
        var strands_no = 3;
        var table = 'NPIHSPLAXOTATRTFIAIERMOSETNONITTKLIPSOYAIEPANNWABYIRUNNUUOPTRLET';
        var ans = [
            ['73','63','53','54','44','43','33','24','14','13','12','22','11','00'],  // spangram the first
            ['77','67','66','65','76','75'],
            ['04','03','02','01'],
            ['74','64','55','56','57','46'],
            ['31','21','10','20'],
            ['61','71','70','60','50','40','30'],
            ['72','62','52','51','41','42','32','23'],
            ['05','06','07','16','17','26','15','25'],
            ['27','37','47','36','35','45','34']
        ]  
        var correct_color = ['#EC5E42','#FBC2E2', '#FBE8C2','#F6F29C','#C9F69C','#76BBF4','#76F2F4','#E8BDFE','#A57675'];
        var result_balls = ['ðŸ’¥','ðŸ©·','ðŸ§¡','ðŸ’›','ðŸ’š','ðŸ’™','ðŸ©µ','ðŸ’œ','ðŸ¤Ž'];
    </script>

    <script>
        for (var row=0;row<num_of_row;row++) {
            for (var col=0;col<num_of_col;col++) {
                document.getElementById(row.toString()+col.toString()).innerHTML = table[num_of_col*row+col];	
            }
        }
    </script>

	<script>
		var str_reg = '';
        var id_reg = [];
        var row_prev = 0;
        var col_prev = 0;
        var used_reg = [];
        var correct_arr = [];
        var result = "PPM's Strands #" + strands_no.toString() + '\n\"' + title + '\"\n';
		function Click(row, col) { 
            if (!used_reg.includes(row.toString()+col.toString())) {
                if (str_reg == '' || ((Math.abs(row-row_prev)<=1) && (Math.abs(col-col_prev)<=1) && !(id_reg.includes(row.toString()+col.toString())))) {
                    str_reg += table[num_of_col*row+col];
                    document.getElementById("showbar").innerHTML = str_reg;	
                    id_reg.push(row.toString()+col.toString());
                    row_prev = row;
                    col_prev = col;
                    document.getElementById(row.toString()+col.toString()).style.backgroundColor = '#e7e7e7';
                }
            }
		}
        function Submit() { 
            // correct
            for (var i=0;i<ans.length;i++) {
                if (ans[i].toString() == id_reg.toString()) {
                    for (var j=0;j<id_reg.length;j++) {
                        document.getElementById(id_reg[j]).style.backgroundColor = correct_color[i];
                        document.getElementById(id_reg[j]).style.borderColor = correct_color[i];
                        used_reg.push(id_reg[j]);
                    }
                    correct_arr.push(i);
                    result += result_balls[i];
                    str_reg = '';
                    id_reg = [];
                    document.getElementById("showbar").innerHTML = '';	
                    if (correct_arr.length == ans.length) {
                        document.getElementById("showbar").innerHTML = "Well done! Results copied to clipboard. ";
                        navigator.clipboard.writeText(result);
                    }
                    return ;
                }
            }
            // wrong
            for (var j=0;j<id_reg.length;j++) {
                document.getElementById(id_reg[j]).style.backgroundColor = 'white';
            }
            str_reg = '';
            id_reg = [];
            document.getElementById("showbar").innerHTML = '';	
            return ;
		}
        function Hint() {
            for (var i=1;i<ans.length;i++) {
                if (!correct_arr.includes(i)) {
                    for (var j=0;j<ans[i].length;j++) {
                        document.getElementById(ans[i][j]).style.borderColor = 'black';
                    }
                    result += 'ðŸ’¡';
                    return ;
                }
            }
        }
	</script>

</body>

</html>